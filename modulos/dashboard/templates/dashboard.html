{% extends "base_dashboard.html" %}
{% load static %}

{% block content %}

<div class="page-wrapper">
	<!-- Page header -->
	<div class="page-header d-print-none">
		<div class="container-xl">
			<div class="row g-2 align-items-center">
				<div class="col">
					<!-- Page pre-title -->
					<div class="page-pretitle">
						Overview
					</div>
					<h2 class="page-title">
						Administra
					</h2>
				</div>
				<!-- Page title actions -->
				<div class="col-auto ms-auto d-print-none">
					<div class="btn-list">
						<span class="d-none d-sm-inline">
							<a href="/citas" class="btn btn-1">
								Gestionar
							</a>
						</span>
						<a href="#" class="btn btn-primary ms-auto" data-bs-toggle="modal" data-bs-target="#modal-crear-cita">
							+
					   </a>
					   
					 			   
					   {% include 'formularios/crear_cita.html' with form_action=dashboard_url %}

						<a href="#" class="btn btn-primary btn-6 d-sm-none btn-icon" data-bs-toggle="modal"
							data-bs-target="#modal-report" aria-label="Create new report">
							<!-- Download SVG icon from http://tabler.io/icons/icon/plus -->
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
								fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
								stroke-linejoin="round" class="icon icon-2">
								<path d="M12 5l0 14" />
								<path d="M5 12l14 0" />
							</svg>
						</a>
					</div>
					
				</div>
			</div>
		</div>
	</div>
	<!-- Page body -->
	<div class="page-body">
		
		<div class="container-xl">
			{% include 'layout/mensajes.html' %}
			<div class="row row-deck row-cards">
				<div class="col-sm-6 col-lg-3">
					<div class="card">
						<div class="card-body">
							<div class="d-flex align-items-center">
								<div class="subheader">Sales</div>
								<div class="ms-auto lh-1">
									<div class="dropdown">
										<a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
											aria-haspopup="true" aria-expanded="false">Last 7 days</a>
										<div class="dropdown-menu dropdown-menu-end">
											<a class="dropdown-item active" href="#">Last 7 days</a>
											<a class="dropdown-item" href="#">Last 30 days</a>
											<a class="dropdown-item" href="#">Last 3 months</a>
										</div>
									</div>
								</div>
							</div>
							<div class="h1 mb-3">75%</div>
							<div class="d-flex mb-2">
								<div>Conversion rate</div>
								<div class="ms-auto">
									<span class="text-green d-inline-flex align-items-center lh-1">
										7%
										<!-- Download SVG icon from http://tabler.io/icons/icon/trending-up -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" stroke-linejoin="round" class="icon ms-1 icon-2">
											<path d="M3 17l6 -6l4 4l8 -8" />
											<path d="M14 7l7 0l0 7" />
										</svg>
									</span>
								</div>
							</div>
							<div class="progress progress-sm">
								<div class="progress-bar bg-primary" style="width: 75%" role="progressbar"
									aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" aria-label="75% Complete">
									<span class="visually-hidden">75% Complete</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6 col-lg-3">
					<div class="card">
						<div class="card-body">
							<div class="d-flex align-items-center">
								<div class="subheader">Revenue</div>
								<div class="ms-auto lh-1">
									<div class="dropdown">
										<a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
											aria-haspopup="true" aria-expanded="false">Last 7 days</a>
										<div class="dropdown-menu dropdown-menu-end">
											<a class="dropdown-item active" href="#">Last 7 days</a>
											<a class="dropdown-item" href="#">Last 30 days</a>
											<a class="dropdown-item" href="#">Last 3 months</a>
										</div>
									</div>
								</div>
							</div>
							<div class="d-flex align-items-baseline">
								<div class="h1 mb-0 me-2">$4,300</div>
								<div class="me-auto">
									<span class="text-green d-inline-flex align-items-center lh-1">
										8%
										<!-- Download SVG icon from http://tabler.io/icons/icon/trending-up -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" stroke-linejoin="round" class="icon ms-1 icon-2">
											<path d="M3 17l6 -6l4 4l8 -8" />
											<path d="M14 7l7 0l0 7" />
										</svg>
									</span>
								</div>
							</div>
						</div>
						<div id="chart-revenue-bg" class="chart-sm"></div>
						<script>
							document.addEventListener("DOMContentLoaded", function () {
								window.ApexCharts && (new ApexCharts(document.getElementById('chart-revenue-bg'), {
									chart: {
										type: "area",
										fontFamily: 'inherit',
										height: 40,
										sparkline: {
											enabled: true
										},
										animations: {
											enabled: false
										},
									},
									dataLabels: {
										enabled: false,
									},
									fill: {
										opacity: .16,
										type: 'solid'
									},
									stroke: {
										width: 2,
										lineCap: "round",
										curve: "smooth",
									},
									series: [{
										name: "Profits",
										data: [37, 35, 44, 28, 36, 24, 65, 31, 37, 39, 62, 51, 35, 41, 35, 27, 93, 53, 61, 27, 54, 43, 19, 46, 39, 62, 51, 35, 41, 67]
									}],
									tooltip: {
										theme: 'dark'
									},
									grid: {
										strokeDashArray: 4,
									},
									xaxis: {
										labels: {
											padding: 0,
										},
										tooltip: {
											enabled: false
										},
										axisBorder: {
											show: false,
										},
										type: 'datetime',
									},
									yaxis: {
										labels: {
											padding: 4
										},
									},
									labels: [
										'2020-06-20', '2020-06-21', '2020-06-22', '2020-06-23', '2020-06-24', '2020-06-25', '2020-06-26', '2020-06-27', '2020-06-28', '2020-06-29', '2020-06-30', '2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04', '2020-07-05', '2020-07-06', '2020-07-07', '2020-07-08', '2020-07-09', '2020-07-10', '2020-07-11', '2020-07-12', '2020-07-13', '2020-07-14', '2020-07-15', '2020-07-16', '2020-07-17', '2020-07-18', '2020-07-19'
									],
									colors: [tabler.getColor("primary")],
									legend: {
										show: false,
									},
								})).render();
							});
						</script>
					</div>
				</div>
				<div class="col-sm-6 col-lg-3">
					<div class="card">
						<div class="card-body">
							
							<div class="d-flex align-items-baseline">
								<div class="subheader">Nuevos clientes</div>
								<div class="h1 mb-3 me-2">6,782</div>
								<div class="me-auto">
									<span class="text-yellow d-inline-flex align-items-center lh-1">
										0%
										<!-- Download SVG icon from http://tabler.io/icons/icon/minus -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" stroke-linejoin="round" class="icon ms-1 icon-2">
											<path d="M5 12l14 0" />
										</svg>
									</span>
								</div>
							</div>
							<div id="chart-new-clients" class="chart-sm"></div>
							<script>
								document.addEventListener("DOMContentLoaded", function () {
									window.ApexCharts && (new ApexCharts(document.getElementById('chart-new-clients'), {
										chart: {
											type: "line",
											fontFamily: 'inherit',
											height: 40,
											sparkline: {
												enabled: true
											},
											animations: {
												enabled: false
											},
										},
										fill: {
											opacity: 1,
										},
										stroke: {
											width: [2, 1],
											dashArray: [0, 3],
											lineCap: "round",
											curve: "smooth",
										},
										series: [{
											name: "May",
											data: [37, 35, 44, 28, 36, 24, 65, 31, 37, 39, 62, 51, 35, 41, 35, 27, 93, 53, 61, 27, 54, 43, 4, 46, 39, 62, 51, 35, 41, 67]
										}, {
											name: "April",
											data: [93, 54, 51, 24, 35, 35, 31, 67, 19, 43, 28, 36, 62, 61, 27, 39, 35, 41, 27, 35, 51, 46, 62, 37, 44, 53, 41, 65, 39, 37]
										}],
										tooltip: {
											theme: 'dark'
										},
										grid: {
											strokeDashArray: 4,
										},
										xaxis: {
											labels: {
												padding: 0,
											},
											tooltip: {
												enabled: false
											},
											type: 'datetime',
										},
										yaxis: {
											labels: {
												padding: 4
											},
										},
										labels: [
											'2020-06-20', '2020-06-21', '2020-06-22', '2020-06-23', '2020-06-24', '2020-06-25', '2020-06-26', '2020-06-27', '2020-06-28', '2020-06-29', '2020-06-30', '2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04', '2020-07-05', '2020-07-06', '2020-07-07', '2020-07-08', '2020-07-09', '2020-07-10', '2020-07-11', '2020-07-12', '2020-07-13', '2020-07-14', '2020-07-15', '2020-07-16', '2020-07-17', '2020-07-18', '2020-07-19'
										],
										colors: [tabler.getColor("primary"), tabler.getColor("gray-600")],
										legend: {
											show: false,
										},
									})).render();
								});
							</script>
						</div>
					</div>
				</div>
				<div class="col-sm-6 col-lg-3">
					<div class="card">
						<div class="card-body">
							<div class="d-flex align-items-center">
								<div class="subheader">Active users</div>
								<div class="ms-auto lh-1">
									<div class="dropdown">
										<a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
											aria-haspopup="true" aria-expanded="false">Last 7 days</a>
										<div class="dropdown-menu dropdown-menu-end">
											<a class="dropdown-item active" href="#">Last 7 days</a>
											<a class="dropdown-item" href="#">Last 30 days</a>
											<a class="dropdown-item" href="#">Last 3 months</a>
										</div>
									</div>
								</div>
							</div>
							<div class="d-flex align-items-baseline">
								<div class="h1 mb-3 me-2">2,986</div>
								<div class="me-auto">
									<span class="text-green d-inline-flex align-items-center lh-1">
										4%
										<!-- Download SVG icon from http://tabler.io/icons/icon/trending-up -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
											stroke-linecap="round" stroke-linejoin="round" class="icon ms-1 icon-2">
											<path d="M3 17l6 -6l4 4l8 -8" />
											<path d="M14 7l7 0l0 7" />
										</svg>
									</span>
								</div>
							</div>
							<div id="chart-active-users" class="chart-sm"></div>
							<script>
								document.addEventListener("DOMContentLoaded", function () {
									window.ApexCharts && (new ApexCharts(document.getElementById('chart-active-users'), {
										chart: {
											type: "bar",
											fontFamily: 'inherit',
											height: 40,
											sparkline: {
												enabled: true
											},
											animations: {
												enabled: false
											},
										},
										plotOptions: {
											bar: {
												columnWidth: '50%',
											}
										},
										dataLabels: {
											enabled: false,
										},
										fill: {
											opacity: 1,
										},
										series: [{
											name: "Profits",
											data: [37, 35, 44, 28, 36, 24, 65, 31, 37, 39, 62, 51, 35, 41, 35, 27, 93, 53, 61, 27, 54, 43, 19, 46, 39, 62, 51, 35, 41, 67]
										}],
										tooltip: {
											theme: 'dark'
										},
										grid: {
											strokeDashArray: 4,
										},
										xaxis: {
											labels: {
												padding: 0,
											},
											tooltip: {
												enabled: false
											},
											axisBorder: {
												show: false,
											},
											type: 'datetime',
										},
										yaxis: {
											labels: {
												padding: 4
											},
										},
										labels: [
											'2020-06-20', '2020-06-21', '2020-06-22', '2020-06-23', '2020-06-24', '2020-06-25', '2020-06-26', '2020-06-27', '2020-06-28', '2020-06-29', '2020-06-30', '2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04', '2020-07-05', '2020-07-06', '2020-07-07', '2020-07-08', '2020-07-09', '2020-07-10', '2020-07-11', '2020-07-12', '2020-07-13', '2020-07-14', '2020-07-15', '2020-07-16', '2020-07-17', '2020-07-18', '2020-07-19'
										],
										colors: [tabler.getColor("primary")],
										legend: {
											show: false,
										},
									})).render();
								});
							</script>
						</div>
					</div>
				</div>
				<div class="col-12">
					<div class="row row-cards">
						<div class="col-sm-6 col-lg-3">
							<div class="card card-sm">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-auto">
											<span class="bg-primary text-white avatar">
												<!-- Download SVG icon from http://tabler.io/icons/icon/currency-dollar -->
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
													viewBox="0 0 24 24" fill="none" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
													class="icon icon-1">
													<path
														d="M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2" />
													<path d="M12 3v3m0 12v3" />
												</svg>
											</span>
										</div>
										<div class="col">
											<div class="font-weight-medium">
												Estudiantes
											</div>
											<div class="text-secondary">
												{{ num_estudiantes }}
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-lg-3">
							<div class="card card-sm">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-auto">
											<span class="bg-green text-white avatar">
												<!-- Download SVG icon from http://tabler.io/icons/icon/shopping-cart -->
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
													viewBox="0 0 24 24" fill="none" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
													class="icon icon-1">
													<path d="M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
													<path d="M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
													<path d="M17 17h-11v-14h-2" />
													<path d="M6 5l14 1l-1 7h-13" />
												</svg>
											</span>
										</div>
										<div class="col">
											<div class="font-weight-medium">
												Citas agendadas
											</div>
											<div class="text-secondary">
												{{num_citas_agendadas}}
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-lg-3">
							<div class="card card-sm">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-auto">
											<span class="bg-x text-white avatar">
												<!-- Download SVG icon from http://tabler.io/icons/icon/brand-x -->
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
													viewBox="0 0 24 24" fill="none" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
													class="icon icon-1">
													<path d="M4 4l11.733 16h4.267l-11.733 -16z" />
													<path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
												</svg>
											</span>
										</div>
										<div class="col">
											<div class="font-weight-medium">
												Peticiones
											</div>
											<div class="text-secondary">
												{{num_contactos}}
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-lg-3">
							<div class="card card-sm">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-auto">
											<span class="bg-facebook text-white avatar">
												<!-- Download SVG icon from http://tabler.io/icons/icon/brand-facebook -->
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
													viewBox="0 0 24 24" fill="none" stroke="currentColor"
													stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
													class="icon icon-1">
													<path
														d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
												</svg>
											</span>
										</div>
										<div class="col">
											<div class="font-weight-medium">
												Preguntas
											</div>
											<div class="text-secondary">
												{{num_preguntas}}
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- <div class="col-lg-6">
					<div class="card">
						<div class="card-body">
							<h3 class="card-title">Traffic summary</h3>
							<div id="chart-mentions" class="chart-lg"></div>
							<script>
								document.addEventListener("DOMContentLoaded", function () {
									window.ApexCharts && (new ApexCharts(document.getElementById('chart-mentions'), {
										chart: {
											type: "bar",
											fontFamily: 'inherit',
											height: 240,
											parentHeightOffset: 0,
											toolbar: {
												show: false,
											},
											animations: {
												enabled: false
											},
											stacked: true,
										},
										plotOptions: {
											bar: {
												columnWidth: '50%',
											}
										},
										dataLabels: {
											enabled: false,
										},
										fill: {
											opacity: 1,
										},
										series: [{
											name: "Web",
											data: [1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 2, 12, 5, 8, 22, 6, 8, 6, 4, 1, 8, 24, 29, 51, 40, 47, 23, 26, 50, 26, 41, 22, 46, 47, 81, 46, 6]
										}, {
											name: "Social",
											data: [2, 5, 4, 3, 3, 1, 4, 7, 5, 1, 2, 5, 3, 2, 6, 7, 7, 1, 5, 5, 2, 12, 4, 6, 18, 3, 5, 2, 13, 15, 20, 47, 18, 15, 11, 10, 0]
										}, {
											name: "Other",
											data: [2, 9, 1, 7, 8, 3, 6, 5, 5, 4, 6, 4, 1, 9, 3, 6, 7, 5, 2, 8, 4, 9, 1, 2, 6, 7, 5, 1, 8, 3, 2, 3, 4, 9, 7, 1, 6]
										}],
										tooltip: {
											theme: 'dark'
										},
										grid: {
											padding: {
												top: -20,
												right: 0,
												left: -4,
												bottom: -4
											},
											strokeDashArray: 4,
											xaxis: {
												lines: {
													show: true
												}
											},
										},
										xaxis: {
											labels: {
												padding: 0,
											},
											tooltip: {
												enabled: false
											},
											axisBorder: {
												show: false,
											},
											type: 'datetime',
										},
										yaxis: {
											labels: {
												padding: 4
											},
										},
										labels: [
											'2020-06-20', '2020-06-21', '2020-06-22', '2020-06-23', '2020-06-24', '2020-06-25', '2020-06-26', '2020-06-27', '2020-06-28', '2020-06-29', '2020-06-30', '2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04', '2020-07-05', '2020-07-06', '2020-07-07', '2020-07-08', '2020-07-09', '2020-07-10', '2020-07-11', '2020-07-12', '2020-07-13', '2020-07-14', '2020-07-15', '2020-07-16', '2020-07-17', '2020-07-18', '2020-07-19', '2020-07-20', '2020-07-21', '2020-07-22', '2020-07-23', '2020-07-24', '2020-07-25', '2020-07-26'
										],
										colors: [tabler.getColor("primary"), tabler.getColor("primary", 0.8), tabler.getColor("green", 0.8)],
										legend: {
											show: false,
										},
									})).render();
								});
							</script>
						</div>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="card">
						<div class="card-body">
							<h3 class="card-title">Locations</h3>
							<div class="ratio ratio-21x9">
								<div>
									<div id="map-world" class="w-100 h-100"></div>
								</div>
							</div>
							<script>
								document.addEventListener("DOMContentLoaded", function () {
									const map = new jsVectorMap({
										selector: '#map-world',
										map: 'world',
										backgroundColor: 'transparent',
										regionStyle: {
											initial: {
												fill: tabler.getColor('body-bg'),
												stroke: tabler.getColor('border-color'),
												strokeWidth: 2,
											}
										},
										zoomOnScroll: false,
										zoomButtons: false,
										// -------- Series --------
										visualizeData: {
											scale: [tabler.getColor('bg-surface'), tabler.getColor('primary')],
											values: { "AF": 16, "AL": 11, "DZ": 158, "AO": 85, "AG": 1, "AR": 351, "AM": 8, "AU": 1219, "AT": 366, "AZ": 52, "BS": 7, "BH": 21, "BD": 105, "BB": 3, "BY": 52, "BE": 461, "BZ": 1, "BJ": 6, "BT": 1, "BO": 19, "BA": 16, "BW": 12, "BR": 2023, "BN": 11, "BG": 44, "BF": 8, "BI": 1, "KH": 11, "CM": 21, "CA": 1563, "CV": 1, "CF": 2, "TD": 7, "CL": 199, "CN": 5745, "CO": 283, "KM": 0, "CD": 12, "CG": 11, "CR": 35, "CI": 22, "HR": 59, "CY": 22, "CZ": 195, "DK": 304, "DJ": 1, "DM": 0, "DO": 50, "EC": 61, "EG": 216, "SV": 21, "GQ": 14, "ER": 2, "EE": 19, "ET": 30, "FJ": 3, "FI": 231, "FR": 2555, "GA": 12, "GM": 1, "GE": 11, "DE": 3305, "GH": 18, "GR": 305, "GD": 0, "GT": 40, "GN": 4, "GW": 0, "GY": 2, "HT": 6, "HN": 15, "HK": 226, "HU": 132, "IS": 12, "IN": 1430, "ID": 695, "IR": 337, "IQ": 84, "IE": 204, "IL": 201, "IT": 2036, "JM": 13, "JP": 5390, "JO": 27, "KZ": 129, "KE": 32, "KI": 0, "KR": 986, "KW": 117, "KG": 4, "LA": 6, "LV": 23, "LB": 39, "LS": 1, "LR": 0, "LY": 77, "LT": 35, "LU": 52, "MK": 9, "MG": 8, "MW": 5, "MY": 218, "MV": 1, "ML": 9, "MT": 7, "MR": 3, "MU": 9, "MX": 1004, "MD": 5, "MN": 5, "ME": 3, "MA": 91, "MZ": 10, "MM": 35, "NA": 11, "NP": 15, "NL": 770, "NZ": 138, "NI": 6, "NE": 5, "NG": 206, "NO": 413, "OM": 53, "PK": 174, "PA": 27, "PG": 8, "PY": 17, "PE": 153, "PH": 189, "PL": 438, "PT": 223, "QA": 126, "RO": 158, "RU": 1476, "RW": 5, "WS": 0, "ST": 0, "SA": 434, "SN": 12, "RS": 38, "SC": 0, "SL": 1, "SG": 217, "SK": 86, "SI": 46, "SB": 0, "ZA": 354, "ES": 1374, "LK": 48, "KN": 0, "LC": 1, "VC": 0, "SD": 65, "SR": 3, "SZ": 3, "SE": 444, "CH": 522, "SY": 59, "TW": 426, "TJ": 5, "TZ": 22, "TH": 312, "TL": 0, "TG": 3, "TO": 0, "TT": 21, "TN": 43, "TR": 729, "TM": 0, "UG": 17, "UA": 136, "AE": 239, "GB": 2258, "US": 4624, "UY": 40, "UZ": 37, "VU": 0, "VE": 285, "VN": 101, "YE": 30, "ZM": 15, "ZW": 5 },
										},
									});
									window.addEventListener("resize", () => {
										map.updateSize();
									});
								});
							</script>
						</div>
					</div>
				</div> -->
				<div class="col-lg-6">
					<div class="row row-cards">
						<div class="col-12">
							<div class="card">
							
							</div>
						</div>
						<div class="col-12">
							<h3 class="ms-4">Buzón -Peticiones, sugerencias</h3>
							<p class="ms-4">En esta sección se agrupan las peticiones, sugerencias y reclamos de los estudiantes. Revisa cada entrada para conocer sus detalles</p>

							<div class="card" style="height: 28rem">

							  <div class="card-body card-body-scrollable card-body-scrollable-shadow">
								
								<div class="divide-y">
								  {% for contacto in contactos %}
								  <div>
									<div class="row">
									  <!-- Avatar con las dos primeras letras en mayúsculas -->
									  <div class="col-auto">
										<span class="avatar avatar-1">{{ contacto.nombre|slice:":2"|upper }}</span>
									  </div>
									  <!-- Información del contacto -->
									  <div class="col">
										<div class="text-truncate">
										  <strong>{{ contacto.nombre }}</strong> ha enviado una 
										  <strong>{{ contacto.get_deseo_display }}</strong>: 
										  <em>{{ contacto.mensaje|truncatewords:10 }}</em>
										</div>
										<div class="text-secondary">{{ contacto.fecha_creacion|timesince }} atrás</div>
									  </div>
									  <!-- Badge con clases Bootstrap según el tipo de solicitud -->
									  <div class="col-auto align-self-center">
										{% if contacto.deseo == 'queja' %}
										  <div class="badge bg-success"></div>
										{% elif contacto.deseo == 'reclamo' %}
										  <div class="badge bg-danger"></div>
										{% elif contacto.deseo == 'peticion' %}
										  <div class="badge bg-warning"></div>
										{% endif %}
									  </div>
									</div>
								  </div>
								  {% empty %}
									<p>No hay contactos.</p>
								  {% endfor %}
								</div>
							  </div>
							</div>
						  </div>
						  
						</div>
				</div>
				<div class="col-lg-6">
					<div class="card">
						<div class="card-header border-0">
							<div class="card-title">Development activity</div>
						</div>
						<div class="position-relative">
							<div class="position-absolute top-0 left-0 px-3 mt-1 w-75">
								<div class="row g-2">
									<div class="col-auto">
										<div class="chart-sparkline chart-sparkline-square" id="sparkline-activity">
										</div>
										<script>
											document.addEventListener("DOMContentLoaded", function () {
												window.ApexCharts && (new ApexCharts(document.getElementById('sparkline-activity'), {
													chart: {
														type: "radialBar",
														fontFamily: 'inherit',
														height: 40,
														width: 40,
														animations: {
															enabled: false
														},
														sparkline: {
															enabled: true
														},
													},
													tooltip: {
														enabled: false,
													},
													plotOptions: {
														radialBar: {
															hollow: {
																margin: 0,
																size: '75%'
															},
															track: {
																margin: 0
															},
															dataLabels: {
																show: false
															}
														}
													},
													colors: [tabler.getColor("blue")],
													series: [35],
												})).render();
											});
										</script>
									</div>
									<div class="col">
										<div>Today's Earning: $4,262.40</div>
										<div class="text-secondary">
											<!-- Download SVG icon from http://tabler.io/icons/icon/trending-up -->
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round"
												class="icon icon-inline text-green icon-3">
												<path d="M3 17l6 -6l4 4l8 -8" />
												<path d="M14 7l7 0l0 7" />
											</svg>
											+5% more than yesterday
										</div>
									</div>
								</div>
							</div>
							<div id="chart-development-activity"></div>
							<script>
								document.addEventListener("DOMContentLoaded", function () {
									window.ApexCharts && (new ApexCharts(document.getElementById('chart-development-activity'), {
										chart: {
											type: "area",
											fontFamily: 'inherit',
											height: 192,
											sparkline: {
												enabled: true
											},
											animations: {
												enabled: false
											},
										},
										dataLabels: {
											enabled: false,
										},
										fill: {
											opacity: .16,
											type: 'solid'
										},
										stroke: {
											width: 2,
											lineCap: "round",
											curve: "smooth",
										},
										series: [{
											name: "Purchases",
											data: [3, 5, 4, 6, 7, 5, 6, 8, 24, 7, 12, 5, 6, 3, 8, 4, 14, 30, 17, 19, 15, 14, 25, 32, 40, 55, 60, 48, 52, 70]
										}],
										tooltip: {
											theme: 'dark'
										},
										grid: {
											strokeDashArray: 4,
										},
										xaxis: {
											labels: {
												padding: 0,
											},
											tooltip: {
												enabled: false
											},
											axisBorder: {
												show: false,
											},
											type: 'datetime',
										},
										yaxis: {
											labels: {
												padding: 4
											},
										},
										labels: [
											'2020-06-20', '2020-06-21', '2020-06-22', '2020-06-23', '2020-06-24', '2020-06-25', '2020-06-26', '2020-06-27', '2020-06-28', '2020-06-29', '2020-06-30', '2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04', '2020-07-05', '2020-07-06', '2020-07-07', '2020-07-08', '2020-07-09', '2020-07-10', '2020-07-11', '2020-07-12', '2020-07-13', '2020-07-14', '2020-07-15', '2020-07-16', '2020-07-17', '2020-07-18', '2020-07-19'
										],
										colors: [tabler.getColor("primary")],
										legend: {
											show: false,
										},
										point: {
											show: false
										},
									})).render();
								});
							</script>
						</div>
						<div class="card-table table-responsive">
							<table class="table table-vcenter" id="example">
								<thead>
									<tr>
										<th>User</th>
										<th>Commit</th>
										<th>Date</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td class="w-1">
											<span class="avatar avatar-sm"
												style="background-image: url(./static/avatars/000m.jpg)"></span>
										</td>
										<td class="td-truncate">
											<div class="text-truncate">
												Fix dart Sass compatibility (#29755)
											</div>
										</td>
										<td class="text-nowrap text-secondary">28 Nov 2019</td>
									</tr>
									<tr>
										<td class="w-1">
											<span class="avatar avatar-sm">JL</span>
										</td>
										<td class="td-truncate">
											<div class="text-truncate">
												Change deprecated html tags to text decoration classes (#29604)
											</div>
										</td>
										<td class="text-nowrap text-secondary">27 Nov 2019</td>
									</tr>
									<tr>
										<td class="w-1">
											<span class="avatar avatar-sm"
												style="background-image: url(./static/avatars/002m.jpg)"></span>
										</td>
										<td class="td-truncate">
											<div class="text-truncate">
												justify-content:between ⇒ justify-content:space-between (#29734)
											</div>
										</td>
										<td class="text-nowrap text-secondary">26 Nov 2019</td>
									</tr>
									<tr>
										<td class="w-1">
											<span class="avatar avatar-sm"
												style="background-image: url(./static/avatars/003m.jpg)"></span>
										</td>
										<td class="td-truncate">
											<div class="text-truncate">
												Update change-version.js (#29736)
											</div>
										</td>
										<td class="text-nowrap text-secondary">26 Nov 2019</td>
									</tr>
									<tr>
										<td class="w-1">
											<span class="avatar avatar-sm"
												style="background-image: url(./static/avatars/000f.jpg)"></span>
										</td>
										<td class="td-truncate">
											<div class="text-truncate">
												Regenerate package-lock.json (#29730)
											</div>
										</td>
										<td class="text-nowrap text-secondary">25 Nov 2019</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="col-12">
					<div class="card card-md sticky-top">
						<div class="card-stamp card-stamp-lg">
							<div class="card-stamp-icon bg-primary">
								<!-- Download SVG icon from http://tabler.io/icons/icon/ghost -->
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="icon icon-1">
									<path
										d="M5 11a7 7 0 0 1 14 0v7a1.78 1.78 0 0 1 -3.1 1.4a1.65 1.65 0 0 0 -2.6 0a1.65 1.65 0 0 1 -2.6 0a1.65 1.65 0 0 0 -2.6 0a1.78 1.78 0 0 1 -3.1 -1.4v-7" />
									<path d="M10 10l.01 0" />
									<path d="M14 10l.01 0" />
									<path d="M10 14a3.5 3.5 0 0 0 4 0" />
								</svg>
							</div>
						</div>
						<div class="card-body">
							<div class="row align-items-center">
								<div class="col-10">
									<h3 class="h1">Hola, {{ user.first_name|capfirst }}</h3>
									<div class="markdown text-secondary">
										Como psicólogo del sistema, podrás gestionar las peticiones, sugerencias y quejas de los estudiantes, administrar y agendar citas, gestionar el banco de preguntas relacionadas con salud mental, y editar tu disponibilidad de horarios para facilitar el agendamiento de nuevas sesiones.
									</div>
									<div class="mt-3">
										<a href="https://tabler.io/icons" class="btn btn-primary" target="_blank"
											rel="noopener">
											<!-- Download SVG icon from http://tabler.io/icons/icon/download -->
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
												viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
												stroke-linecap="round" stroke-linejoin="round" class="icon icon-1">
												<path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" />
												<path d="M7 11l5 5l5 -5" />
												<path d="M12 4l0 12" />
											</svg>
											Download icons
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12 col-lg-8">
					<div class="card">
						<div class="card-header">
							<h3 class="card-title">Disponibilidad</h3>
						</div>
						<div class="card-table table-responsive">
							<table id="usuariosTable" class="table table-vcenter display">
								<thead>
								  <tr>
									<th>Psicólogo</th>
									<th>Día</th>
									<th>Inicio</th>
									<th>Fin</th>
									<th>Disponible</th>
								  </tr>
								</thead>
								<tbody>
								  {% for horario in horarios %}
								  <tr>
									<td>{{ horario.psicologo.usuario.username }}</td>
									<td>{{ horario.dia_semana }}</td>
									<td>{{ horario.hora_inicio }}</td>
									<td>{{ horario.hora_fin }}</td>
									<td>
									  {% if horario.disponible %}
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-square-check" style="color: #28a745;">
										  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
										  <path d="M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005.195v12.666c0 1.96-1.537 3.56-3.472 3.662l-.195.005h-12.666a3.667 3.667 0 0 1-3.662-3.472l-.005-.195v-12.666c0-1.96 1.537-3.56 3.472-3.662l.195-.005h12.666zm-2.626 7.293a1 1 0 0 0-1.414 0l-3.293 3.292l-1.293-1.292l-.094-.083a1 1 0 0 0-1.32 1.497l2 2l.094.083a1 1 0 0 0 1.32-.083l4-4l.083-.094a1 1 0 0 0-.083-1.32z"/>
										</svg>
									  {% else %}
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-xbox-x" style="color: #dc3545;">
										  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
										  <path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10s-10-4.477-10-10s4.477-10 10-10m3.6 5.2a1 1 0 0 0-1.4.2l-2.2 2.933l-2.2-2.933a1 1 0 1 0-1.6 1.2l2.55 3.4l-2.55 3.4a1 1 0 1 0 1.6 1.2l2.2-2.933l2.2 2.933a1 1 0 0 0 1.6-1.2l-2.55-3.4l2.55-3.4a1 1 0 0 0-.2-1.4"/>
										</svg>
									  {% endif %}
									</td>
								  </tr>
								  {% endfor %}
								</tbody>
							  </table>
							  
							  
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<a href="https://github.com/sponsors/codecalm" class="card card-sponsor" target="_blank"
						rel="noopener" style="background-image: url(./static/sponsor-banner-homepage.svg)"
						aria-label="Sponsor Tabler!">
						<div class="card-body"></div>
					</a>
				</div>
				<div class="col-md-6 col-lg-4">
					<a href="https://github.com/sponsors/codecalm" class="card card-sponsor" target="_blank"
						rel="noopener" style="background-image: url(./static/sponsor-banner-homepage.svg)"
						aria-label="Sponsor Tabler!">
						<div class="card-body"></div>
					</a>
				</div>
				
				<div class="col-md-12 col-lg-8">
					<div class="card">
						<div class="card-header">
							<h3 class="card-title">Citas</h3>
						</div>
						<div class="table-responsive w-100">
							<table class="table card-table table-vcenter">
								<thead>
								  <tr>
									<th class="w-1"></th>
									<th class="w-100">Cita</th>
									<th>Fecha y Hora</th>
									<th>Estado</th>
									<th>Notas</th>
								  </tr>
								</thead>
								<tbody>
								  {% for cita in citas %}
								  <tr>
									<!-- Checkbox (puedes ajustar si lo necesitas o quitarlo) -->
									<td class="w-1 pe-0">
									  <input type="checkbox" class="form-check-input m-0 align-middle" aria-label="Select task" {% if cita.estado != 'cancelada' %}checked{% endif %}>
									</td>
									
									<!-- Información de la cita: Asunto y participantes -->
									<td class="w-100">
									  <a href="#" class="text-reset">{{ cita.asunto }}</a>
									  <div class="text-muted small">
										Estudiante: {{ cita.estudiante.usuario.username }}<br>
										Psicólogo: {{ cita.psicologo.usuario.username }}
									  </div>
									</td>
									
									<!-- Fecha y Hora con icono de calendario -->
									<td class="text-nowrap text-secondary">
									  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
										   viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
										   stroke-linecap="round" stroke-linejoin="round" class="icon icon-1">
										<path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" />
										<path d="M16 3v4" />
										<path d="M8 3v4" />
										<path d="M4 11h16" />
										<path d="M11 15h1" />
										<path d="M12 15v3" />
									  </svg>
									  {{ cita.fecha_hora|date:"F j, Y H:i" }}
									</td>
									
									<!-- Estado con icono personalizado -->
									<td class="text-nowrap">
									  {% if cita.estado == 'agendada' %}
										<!-- Icono para estado Agendada -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
											 stroke-linecap="round" stroke-linejoin="round"
											 class="icon icon-tabler icons-tabler-outline icon-tabler-checkup-list">
										  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
										  <path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/>
										  <path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>
										  <path d="M9 14h.01"/>
										  <path d="M9 17h.01"/>
										  <path d="M12 16l1 1l3 -3"/>
										</svg>
									  {% elif cita.estado == 'completada' %}
										<!-- Icono para estado Completada -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											 viewBox="0 0 24 24" fill="currentColor"
											 class="icon icon-tabler icons-tabler-filled icon-tabler-circle-check">
										  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
										  <path d="M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"/>
										</svg>
									  {% elif cita.estado == 'cancelada' %}
										<!-- Icono para estado Cancelada -->
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											 viewBox="0 0 24 24" fill="currentColor"
											 class="icon icon-tabler icons-tabler-filled icon-tabler-circle-x">
										  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
										  <path d="M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"/>
										</svg>
									  {% endif %}
									</td>
									
									<!-- Notas adicionales -->
									<td>
									  {{ cita.notas }}
									</td>
								  </tr>
								  {% endfor %}
								</tbody>
							  </table>
							  
						</div>
					</div>
				</div>
				<div class="col-12">
					<div class="card">
						<div class="card-header">
							<h3 class="card-title">Usuarios</h3>
						</div>
						<div class="card-body border-bottom py-3">
							<select id="filtroRol" class="form-select w-25">
								<option value="">Todos</option>
								<option value="estudiante">Estudiantes</option>
								<option value="psicologo">Psicólogos</option>
								<option value="administrativo">Administrativos</option>
							</select>
			
						</div>
						<div class="table-responsive">
							<table id="tabla_usuarios" class="table card-table table-vcenter text-nowrap datatable">
								<thead>
									<tr>
										<th>Usuario</th>
										<th>Identificación</th>
										<th>Nombre</th>
										<th>Apellido</th>
										<th>Rol</th>
										<th>Email</th>
										<th>Imagen</th>
									</tr>
								</thead>
								<tbody>
									{% for usuario in usuarios %}
									<tr>
										<td>{{ usuario.username }}</td>
										<td>
											{% if usuario.tipo_identificacion %}
												{{ usuario.get_tipo_identificacion_display }}: {{ usuario.identificacion }}
											{% else %}
												{{ usuario.identificacion }}
											{% endif %}
										</td>
										<td>{{ usuario.first_name }}</td>
										<td>{{ usuario.last_name }}</td>
										<td>
											{% if usuario.rol == 'estudiante' %}
												<span class="badge badge-outline text-blue bg-blue-100">{{ usuario.get_rol_display }}</span>
											{% elif usuario.rol == 'psicologo' %}
												<span class="badge badge-outline text-green bg-green-100">{{ usuario.get_rol_display }}</span>
											{% elif usuario.rol == 'administrativo' %}
												<span class="badge badge-outline text-yellow bg-yellow-100">{{ usuario.get_rol_display }}</span>
											{% else %}
												-
											{% endif %}
										</td>
										<td>{{ usuario.email }}</td>
										<td>
											{% if usuario.imagen %}
												<span class="avatar" style="background-image: url({{ usuario.imagen.url }})"></span>
											{% else %}
												<span class="avatar" style="background-image: url({% static 'img/imagen.png' %})"></span>
											{% endif %}
										</td>
										
									</tr>
									{% endfor %}
								</tbody>
							</table>
							
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
	<footer class="footer footer-transparent d-print-none">
		<div class="container-xl">
			<div class="row text-center align-items-center flex-row-reverse">
				<div class="col-lg-auto ms-lg-auto">
					<ul class="list-inline list-inline-dots mb-0">
						<li class="list-inline-item"><a href="https://tabler.io/docs" target="_blank"
								class="link-secondary" rel="noopener">Documentation</a></li>
						<li class="list-inline-item"><a href="./license.html" class="link-secondary">License</a></li>
						<li class="list-inline-item"><a href="https://github.com/tabler/tabler" target="_blank"
								class="link-secondary" rel="noopener">Source code</a></li>
						<li class="list-inline-item">
							<a href="https://github.com/sponsors/codecalm" target="_blank" class="link-secondary"
								rel="noopener">
								<!-- Download SVG icon from http://tabler.io/icons/icon/heart -->
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="icon text-pink icon-inline icon-4">
									<path
										d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
								</svg>
								Sponsor
							</a>
						</li>
					</ul>
				</div>
				<div class="col-12 col-lg-auto mt-3 mt-lg-0">
					<ul class="list-inline list-inline-dots mb-0">
						<li class="list-inline-item">
							Copyright &copy; 2025
							<a href="." class="link-secondary">Tabler</a>.
							All rights reserved.
						</li>
						<li class="list-inline-item">
							<a href="./changelog.html" class="link-secondary" rel="noopener">
								v1.0.0
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
</div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const table = new DataTable('#tabla_usuarios', {
            language: {
                url: 'https://cdn.datatables.net/plug-ins/2.2.1/i18n/es-ES.json'
            },
            columnDefs: [
                { orderable: false, targets: [6] } // Deshabilitar ordenamiento en la columna de acciones (índice 7)
            ]
        });

        const filtroRol = document.getElementById('filtroRol');
        filtroRol.addEventListener('change', function () {
            const rol = this.value;
            table.column(4).search(rol).draw(); // Filtrar por la columna de rol (índice 4)
        });
    });
</script>

<!-- Libs JS -->

</body>
{% endblock %}

</html>