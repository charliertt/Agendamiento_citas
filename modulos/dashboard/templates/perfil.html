{% extends "base_dashboard.html" %}
{% load static %}

{% block content %}
<div class="page-wrapper">
	<!-- Page header -->
	<div class="page-header d-print-none">
		<div class="container-xl">
			<div class="row g-2 align-items-center">
				<div class="col">
					<h2 class="page-title">
						Account Settings
						
					</h2>
				</div>
			</div>
		</div>
	</div>
	<!-- Page body -->
	<div class="page-body">
		<div class="container-xl">
		  <div class="card">
			<div class="row g-0">
			  <div class="col-12 col-md-3 border-end">
				<div class="card-body">
				  <h4 class="subheader">Business settings</h4>
				  <div class="list-group list-group-transparent">
					<a href="" class="list-group-item list-group-item-action d-flex align-items-center active">My Account</a>
					<a href="#" class="list-group-item list-group-item-action d-flex align-items-center">My Notifications</a>
					<a href="#" class="list-group-item list-group-item-action d-flex align-items-center">Connected Apps</a>
					<a href="#" class="list-group-item list-group-item-action d-flex align-items-center">Plans</a>
					<a href="#" class="list-group-item list-group-item-action d-flex align-items-center">Billing & Invoices</a>
				  </div>
				  <h4 class="subheader mt-4">Experience</h4>
				  <div class="list-group list-group-transparent">
					<a href="#" class="list-group-item list-group-item-action">Give Feedback</a>
				  </div>
				</div>
			  </div>
			  <div class="col-12 col-md-9 d-flex flex-column">
				<div class="card-body">
				  <h2 class="mb-4">My Account</h2>
				  <h3 class="card-title">Profile Details</h3>
				  <div class="row align-items-center">
					<div class="col-auto">
					  {% if usuario.imagen %}
						<span class="avatar avatar-xl" style="background-image: url({{ usuario.imagen.url }})"></span>
					  {% else %}
						<span class="avatar avatar-xl" style="background-image: url('/static/avatars/default.jpg')"></span>
					  {% endif %}
					</div>
					<div class="col-auto">
					  <a href="" class="btn btn-1">
						Change avatar
					  </a>
					</div>
					<div class="col-auto">
					  <a href="" class="btn btn-ghost-danger btn-3">
						Delete avatar
					  </a>
					</div>
				  </div>
	  
				  <h3 class="card-title mt-4">Personal Information</h3>
				  <div class="row g-3">
					<div class="col-md">
					  <div class="form-label">Username</div>
					  <input type="text" class="form-control" value="{{ usuario.username }}" readonly>
					</div>
					<div class="col-md">
					  <div class="form-label">First Name</div>
					  <input type="text" class="form-control" value="{{ usuario.first_name }}">
					</div>
					<div class="col-md">
					  <div class="form-label">Last Name</div>
					  <input type="text" class="form-control" value="{{ usuario.last_name }}">
					</div>
				  </div>
				  <div class="row g-3 mt-3">
					<div class="col-md">
					  <div class="form-label">Tipo de Identificaci贸n</div>
					  <input type="text" class="form-control" value="{{ usuario.tipo_identificacion }}">
					</div>
					<div class="col-md">
					  <div class="form-label">Identificaci贸n</div>
					  <input type="text" class="form-control" value="{{ usuario.identificacion }}">
					</div>
					<div class="col-md">
					  <div class="form-label">Rol</div>
					  <input type="text" class="form-control" value="{{ usuario.rol }}" readonly>
					</div>
				  </div>
				  <div class="row g-3 mt-3">
					{% if usuario.rol == 'psicologo' %}
					<div class="col-md">
					  <div class="form-label">Especializaci贸n</div>
					  <!-- Se asume que el usuario tiene una relaci贸n OneToOne con Psicologo -->
					  <input type="text" class="form-control" value="{{ usuario.psicologo.especializacion }}">
					</div>
					{% endif %}
					<div class="col-md">
					  <div class="form-label">EPS</div>
					  <input type="text" class="form-control" value="{{ usuario.eps }}">
					</div>
					<div class="col-md">
					  <div class="form-label">Alergias</div>
					  <input type="text" class="form-control" value="{{ usuario.alergias }}">
					</div>
					<div class="col-md">
					  <div class="form-label">Enfermedades</div>
					  <input type="text" class="form-control" value="{{ usuario.enfermedades }}">
					</div>
				  </div>
	  
				  <h3 class="card-title mt-4">Email</h3>
				  <p class="card-subtitle">This contact will be shown to others publicly, so choose it carefully.</p>
				  <div>
					<div class="row g-2">
					  <div class="col-auto">
						<input type="text" class="form-control w-auto" value="{{ usuario.email }}">
					  </div>
					  <div class="col-auto">
						<a href="" class="btn btn-1">
						  Change
						</a>
					  </div>
					</div>
				  </div>
	  
				  <h3 class="card-title mt-4">Password</h3>
				  <p class="card-subtitle">You can set a permanent password if you don't want to use temporary login codes.</p>
				  <div>
					<a href="" class="btn btn-1">
					  Set new password
					</a>
				  </div>
	  
				  <h3 class="card-title mt-4">Public profile</h3>
				  <p class="card-subtitle">Making your profile public means that anyone on the network will be able to find you.</p>
				  <div>
					<label class="form-check form-switch form-switch-lg">
					  <!-- Suponiendo que 'is_public' sea un atributo booleano del usuario -->
					  <input class="form-check-input" type="checkbox" {% if usuario.is_public %}checked{% endif %}>
					  <span class="form-check-label form-check-label-on">You're currently visible</span>
					  <span class="form-check-label form-check-label-off">You're currently invisible</span>
					</label>
				  </div>
				</div>
				<div class="card-footer bg-transparent mt-auto">
				  <div class="btn-list justify-content-end">
					<a href="" class="btn btn-1">
					  Cancel
					</a>
					<a href="" class="btn btn-primary btn-2">
					  Submit
					</a>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	  
	<footer class="footer footer-transparent d-print-none">
		<div class="container-xl">
			<div class="row text-center align-items-center flex-row-reverse">
				<div class="col-lg-auto ms-lg-auto">
					<ul class="list-inline list-inline-dots mb-0">
						<li class="list-inline-item"><a href="https://tabler.io/docs" target="_blank"
								class="link-secondary" rel="noopener">Documentation</a></li>
						<li class="list-inline-item"><a href="./license.html" class="link-secondary">License</a></li>
						<li class="list-inline-item"><a href="https://github.com/tabler/tabler" target="_blank"
								class="link-secondary" rel="noopener">Source code</a></li>
						<li class="list-inline-item">
							<a href="https://github.com/sponsors/codecalm" target="_blank" class="link-secondary"
								rel="noopener">
								<!-- Download SVG icon from http://tabler.io/icons/icon/heart -->
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
									fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" class="icon text-pink icon-inline icon-4">
									<path
										d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
								</svg>
								Sponsor
							</a>
						</li>
					</ul>
				</div>
				<div class="col-12 col-lg-auto mt-3 mt-lg-0">
					<ul class="list-inline list-inline-dots mb-0">
						<li class="list-inline-item">
							Copyright &copy; 2025
							<a href="." class="link-secondary">Tabler</a>.
							All rights reserved.
						</li>
						<li class="list-inline-item">
							<a href="./changelog.html" class="link-secondary" rel="noopener">
								v1.0.0
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
</div>
</div>
{% endblock %}