{% extends "base_dashboard.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}

	<div class="page-wrapper">
<!-- Page header -->
<div class="page-header d-print-none">
	<div class="container-xl">
		<div class="row g-2 align-items-center">
			<div class="col">
				<h2 class="page-title">
					Datatables
				</h2>



				<a href="#" class="btn btn-primary ms-auto" data-bs-toggle="modal" data-bs-target="#modal-horario">
					+
			   </a>
			   

			

				  {% include 'layout/mensajes.html' %}

			</div>
		</div>
	</div>
</div>



		<!-- Page body -->
		<div class="page-body">
			<div class="container-xl">
				
			
				
				
<div class="card mt-2">
	<div class="card-body p-0">


		
		

		
		<div class="row">
			{% for cita in citas %}
			<div class="col-md-4 mb-4">
			  <div class="card shadow-sm border-0">
				<!-- Imagen opcional: Si no tienes una imagen asociada, reemplaza el src por una imagen por defecto -->
				<a href="#">
				  <img class="card-img-top" src="/ruta/a/tu-imagen-por-defecto.jpg" alt="Imagen de la cita">
				</a>
				<div class="card-body">
				  <h5 class="card-title text-primary">{{ cita.asunto }}</h5>
				  <p class="card-text">
					<small class="text-muted">
					  <i class="fas fa-calendar-alt"></i> {{ cita.fecha_hora|date:"d/m/Y H:i" }}
					</small>
				  </p>
				  <ul class="list-unstyled">
					<li><strong>ID:</strong> {{ cita.id }}</li>
					<li><strong>Estudiante:</strong> {{ cita.estudiante }}</li>
					<li><strong>Psic√≥logo:</strong> {{ cita.psicologo }}</li>
					<li><strong>Estado:</strong> {{ cita.estado }}</li>
				  </ul>
				</div>
				<div class="card-footer bg-transparent border-0 d-flex justify-content-between">
				  <a href="#" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modal-editar-cita-{{ cita.id }}">Editar</a>
				  {% include 'formularios/editar_cita.html' %}
				  <a href="#" class="btn btn-sm btn-outline-danger">Eliminar</a>
				</div>
			  </div>
			</div>
			{% empty %}
			<div class="col-12">
			  <div class="alert alert-info">No hay citas disponibles.</div>
			</div>
			{% endfor %}
		  </div>
		  
</div>

			</div>
		</div>
		<footer class="footer footer-transparent d-print-none">
	<div class="container-xl">
		<div class="row text-center align-items-center flex-row-reverse">
			<div class="col-lg-auto ms-lg-auto">
				
			</div>
			<div class="col-12 col-lg-auto mt-3 mt-lg-0">
				
			</div>
		</div>
	</div>
</footer>
	</div>
</div>



<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Inicializar DataTables
        const table = new DataTable('#usuariosTable', {
            language: {
                url: 'https://cdn.datatables.net/plug-ins/2.2.1/i18n/es-ES.json'
            },
           
        });

       

		
	
    });

    
</script>
	<!-- Libs JS -->

</body>
{% endblock %}

</html>
